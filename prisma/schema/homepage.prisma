enum HomePageSectionType {
  QUICK_SERVICES // Быстрые услуги (категории)
  SERVICE_CATEGORIES // Категории услуг
  SEASONAL_SERVICES // Сезонные услуги (конкретные услуги)
  PROMO_SERVICES // Промо-услуги (большие карточки с изображениями)
}

model HomePageSection {
  id        String              @id @default(cuid())
  type      HomePageSectionType
  title     String? // Заголовок секции (например, "Часто заказывают осенью")
  icon      String? // Иконка секции (отображается слева от заголовка)
  isActive  Boolean             @default(true)
  order     Int                 @default(0) // Порядок отображения
  createdAt DateTime            @default(now())
  updatedAt DateTime            @updatedAt

  items HomePageSectionItem[]

  @@index([type])
  @@index([isActive])
  @@index([order])
  @@map("home_page_sections")
}

model HomePageSectionItem {
  id        String          @id @default(cuid())
  sectionId String
  section   HomePageSection @relation(fields: [sectionId], references: [id], onDelete: Cascade)

  // Ссылка на категорию или услугу
  categoryId String?
  category   ServiceCategory? @relation(fields: [categoryId], references: [id], onDelete: Cascade)
  serviceId  String?
  service    Service?         @relation(fields: [serviceId], references: [id], onDelete: Cascade)

  // Изображение для промо-карточки (используется для PROMO_SERVICES)
  imageUrl String?

  order     Int      @default(0) // Порядок отображения в секции
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([sectionId])
  @@index([categoryId])
  @@index([serviceId])
  @@map("home_page_section_items")
}

