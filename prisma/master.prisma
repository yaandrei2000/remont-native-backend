enum MasterApplicationStatus {
  PENDING
  APPROVED
  REJECTED
}

model MasterApplication {
  id              String                  @id @default(cuid())
  userId          String                  @unique
  name            String
  phone           String
  email           String?
  experience      String? // Опыт работы (лет)
  specialties     String[] // Специализации (массив строк)
  description     String? // Описание о себе
  status          MasterApplicationStatus @default(PENDING)
  processedAt     DateTime?
  processedById   String? // ID админа, который обработал заявку
  processedBy     User?                   @relation("ProcessedApplications", fields: [processedById], references: [id], onDelete: SetNull)
  rejectionReason String? // Причина отклонения
  createdAt       DateTime                @default(now())
  updatedAt       DateTime                @updatedAt

  user User @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@index([status])
  @@index([userId])
  @@map("master_applications")
}

